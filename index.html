<!DOCTYPE html>
<html lang="fr">
<head>
<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#FFFFFF">


<!-- Ic√¥nes mobiles et PWA -->
<link rel="apple-touch-icon" sizes="180x180" href="https://static.wixstatic.com/media/9c25f2_6c6a86b7516f471a879d5f74cbed7364~mv2.png">
<link rel="icon" type="image/png" sizes="192x192" href="https://static.wixstatic.com/media/9c25f2_6c6a86b7516f471a879d5f74cbed7364~mv2.png">
<link rel="icon" type="image/png" sizes="512x512" href="https://static.wixstatic.com/media/9c25f2_6c6a86b7516f471a879d5f74cbed7364~mv2.png">

<!-- Couleur de fond de l'app sur mobile -->
<meta name="theme-color" content="#FFFFFF">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="white">


<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>√Ä DEUX</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="https://static.wixstatic.com/media/9c25f2_6c6a86b7516f471a879d5f74cbed7364~mv2.png">
<meta name="theme-color" content="#BD6549">

<style>
  :root {
    --terracotta: #BD6549;
    --terracotta-light: #E8A18A;
    --pink: #FFB6C1;
    --text: #3B2823;
    --shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  }

  * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }



  body {
    margin: 0;
    font-family: 'Playfair Display', serif;
    color: var(--text);
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  header {
    background: var(--cream);
    padding: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 2px solid var(--terracotta-light);
    position: fixed;
    width: 100%;
    top: 0;
    box-shadow: var(--shadow);
    z-index: 10;
  }

  header img {
    width: 46px;
    height: 46px;
    border-radius: 12px;
  }

  main {
    flex: 1;
    margin-top: 80px;
    margin-bottom: 80px;
    padding: 18px;
    background: var(--cream);
    border-top-left-radius: 26px;
    border-top-right-radius: 26px;
    animation: fadeIn 0.6s ease;
    overflow-y: auto;
  }

  section {
    background: #fff;
    border-radius: 22px;
    padding: 20px;
    box-shadow: var(--shadow);
    margin-bottom: 20px;
  }

  h2 {
    color: var(--terracotta);
    margin-top: 0;
    font-size: 1.2rem;
    letter-spacing: 0.3px;
  }

  p {
    color: var(--text);
    line-height: 1.6;
    font-size: 1rem;
  }

  nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--cream);
    display: flex;
    justify-content: space-around;
    padding: 12px 0;
    border-top-left-radius: 18px;
    border-top-right-radius: 18px;
    box-shadow: var(--shadow);
  }

  nav button {
    background: none;
    border: none;
    color: var(--terracotta);
    font-size: 26px;
    transition: transform 0.2s ease, color 0.3s ease;
  }

  nav button.active {
    transform: scale(1.2);
    color: var(--terracotta-light);
  }

  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(10px);}
    to {opacity: 1; transform: translateY(0);}
  }

  /* Splash */
  #splash {
    position: fixed;
    inset: 0;
    background: var(--terracotta);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 999;
    overflow: hidden;
    animation: fadeOut 2s ease forwards;
    animation-delay: 2.5s;
  }

  #splash img {
    width: 140px;
    height: 140px;
    border-radius: 28px;
    background: white;
    padding: 8px;
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.25);
    animation: popIn 1s ease-out;
  }

  #splash p {
    color: #fff;
    font-size: 1.1rem;
    margin-top: 14px;
    opacity: 0;
    animation: fadeText 1.5s ease forwards;
    animation-delay: 1s;
  }

  @keyframes popIn {
    from {transform: scale(0.85); opacity: 0;}
    to {transform: scale(1); opacity: 1;}
  }
  @keyframes fadeOut { to {opacity: 0; visibility: hidden;} }
  @keyframes fadeText {
    from {opacity: 0; transform: translateY(10px);}
    to {opacity: 1; transform: translateY(0);}
  }

  /* Pluie de coeurs */
  .heart {
    position: absolute;
    color: #fff;
    font-size: 20px;
    opacity: 0.8;
    animation: fall 4s linear infinite;
  }
  @keyframes fall {
    0% {transform: translateY(-10px) rotate(0deg); opacity: 1;}
    100% {transform: translateY(100vh) rotate(360deg); opacity: 0;}
  }

  /* √âcran pr√©noms */
  #nameScreen {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: linear-gradient(180deg, var(--terracotta) 20%, var(--cream) 100%);
    z-index: 998;
    opacity: 0;
    visibility: hidden;
    transition: opacity 1s ease;
  }

  #nameScreen.show {
    opacity: 1;
    visibility: visible;
  }

  #nameScreen h2 {
    color: white;
    font-size: 1.4rem;
    text-align: center;
    margin-bottom: 16px;
  }

  #nameScreen input {
    border: none;
    border-radius: 14px;
    padding: 12px 18px;
    margin: 6px;
    font-size: 1rem;
    font-family: 'Playfair Display', serif;
    text-align: center;
    box-shadow: var(--shadow);
    outline: none;
  }

  #nameScreen button {
    margin-top: 18px;
    background: white;
    color: var(--terracotta);
    font-weight: bold;
    font-size: 1rem;
    border: none;
    border-radius: 20px;
    padding: 12px 26px;
    cursor: pointer;
    box-shadow: var(--shadow);
    transition: transform 0.2s ease;
  }

  #nameScreen button:hover {
    transform: scale(1.05);
  }
</style>
</head>

<body>

<!-- Splash -->
<div id="splash">
  <img src="https://static.wixstatic.com/media/9c25f2_6c6a86b7516f471a879d5f74cbed7364~mv2.png" alt="Logo √Ä Deux">
  <p>Connect√©s par l‚Äôamour üíû</p>
</div>

<!-- √âcran pr√©noms -->
<div id="nameScreen">
  <h2>Entrez vos pr√©noms üíû</h2>
  <input id="name1" type="text" placeholder="Partenaire 1">
  <input id="name2" type="text" placeholder="Partenaire 2">
  <button id="startBtn">Commencer l‚Äôaventure üíñ</button>
</div>

<header>
  <img src="https://static.wixstatic.com/media/9c25f2_6c6a86b7516f471a879d5f74cbed7364~mv2.png" alt="Logo √Ä Deux">
</header>

<main id="content">
  <section id="home">
    <h2>Bienvenue üíû</h2>
    <p id="welcomeText">Chargement de votre bulle d‚Äôamour...</p>
  </section>
</main>

<nav>
  <button class="active" data-section="home">üè†</button>
  <button data-section="quiz">üí¨</button>
  <button data-section="dates">üé≤</button>
  <button data-section="intimite">üíû</button>
  <button data-section="souvenirs">üì∏</button>
</nav>

<script>
  // üíñ Pluie de coeurs
  const splash = document.getElementById('splash');
  const createHeart = () => {
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.textContent = 'üíñ';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (2 + Math.random() * 3) + 's';
    heart.style.fontSize = (16 + Math.random() * 10) + 'px';
    splash.appendChild(heart);
    setTimeout(() => heart.remove(), 4000);
  };
  const heartInterval = setInterval(createHeart, 200);
  setTimeout(() => clearInterval(heartInterval), 2200);

  // üéÄ Gestion pr√©noms
  const nameScreen = document.getElementById('nameScreen');
  const startBtn = document.getElementById('startBtn');
  const welcomeText = document.getElementById('welcomeText');

  window.addEventListener('load', () => {
    const n1 = localStorage.getItem('name1');
    const n2 = localStorage.getItem('name2');
    setTimeout(() => {
      if (n1 && n2) {
        welcomeText.textContent = `Bienvenue dans votre bulle d‚Äôamour, ${n1} & ${n2} üíñ`;
      } else {
        nameScreen.classList.add('show');
      }
    }, 2500);
  });

  startBtn.addEventListener('click', () => {
    const n1 = document.getElementById('name1').value.trim();
    const n2 = document.getElementById('name2').value.trim();
    if (!n1 || !n2) return alert('Veuillez renseigner vos deux pr√©noms üíû');
    localStorage.setItem('name1', n1);
    localStorage.setItem('name2', n2);
    nameScreen.classList.remove('show');
    // Message de bienvenue personnalis√©
welcomeText.innerHTML = `
  <p class="welcome-title">Bienvenue dans votre bulle d‚Äôamour, <strong>${n1}</strong> & <strong>${n2}</strong> üíñ</p>
  <p class="welcome-desc">
    Cette application est votre espace complice : un lieu o√π chaque sourire, chaque souvenir et chaque moment d‚Äôintimit√© se cultive √† deux üå∏  
    Explorez ensemble :
  </p>
  <ul class="welcome-list">
    <li>üíã <strong>Le tracker d‚Äôintimit√©</strong> ‚Äî suivez vos moments tendres au fil du mois</li>
    <li>üé≤ <strong>Les jeux</strong> ‚Äî (re)d√©couvrez-vous autrement et amusez-vous √† deux</li>
    <li>üíû <strong>Les quiz</strong> ‚Äî testez votre complicit√© et vos affinit√©s</li>
    <li>üåπ <strong>Les id√©es de dates</strong> ‚Äî cr√©ez des souvenirs inoubliables</li>
  </ul>
  <p class="welcome-end">Prenez une grande inspiration, et laissez la magie op√©rer... üí´</p>
`;});
</script>
<script>



/* ===========================================================
   üå∏ BLOC 2 ‚Äî QUIZ, DATES & JEUX OSMOSE
=========================================================== */

// Navigation entre sections
const navButtons = document.querySelectorAll("nav button");
const main = document.getElementById("content");

navButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    navButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    const section = btn.dataset.section;
    displaySection(section);
  });
});

function displaySection(section) {
  main.innerHTML = ""; // reset

  if (section === "home") {
    const n1 = localStorage.getItem("name1") || "vous";
    const n2 = localStorage.getItem("name2") || "";
    main.innerHTML = `
      <section>
        <h2>Bienvenue üíû</h2>
        <p>Bienvenue dans votre bulle d‚Äôamour, ${n1} & ${n2} üíñ</p>
        <p>Choisissez une rubrique ci-dessous pour vivre de nouveaux moments complices.</p>
      </section>`;
  }

  if (section === "quiz") showQuiz();
  if (section === "dates") showDates();
  if (section === "jeux") showGames();
}

// ===========================================================
// üí¨ QUIZ ‚Äî 3 cat√©gories √ó 50 questions
// ===========================================================
const quizData = {
  romantique: [
    "Quel est ton plus beau souvenir √† deux ?",
    "Quel geste te fait fondre ?",
    "Quelle chanson te rappelle notre histoire ?",
    "Si notre amour √©tait un parfum, lequel serait-ce ?",
    "Quelle est la premi√®re chose que tu as remarqu√©e chez moi ?",
    "Quel moment de tendresse voudrais-tu revivre ?",
    "Quelle est ta plus belle d√©claration d‚Äôamour re√ßue ou donn√©e ?",
    "Si tu devais d√©crire notre couple en 3 mots ?",
    "Quelle est la chose la plus mignonne que j‚Äôai faite pour toi ?",
    "Quel lieu symbolise notre amour ?",
    "Quelle photo de nous pr√©f√®res-tu et pourquoi ?",
    "Quelle est ta plus grande preuve d‚Äôamour ?",
    "Quel surnom d‚Äôamour t‚Äôas le plus marqu√© ?",
    "Quelle est ta d√©finition du romantisme ?",
    "Quel moment quotidien te rend heureux(se) √† mes c√¥t√©s ?",
    "Quelle chanson r√©sume notre relation ?",
    "Quel serait ton rendez-vous id√©al ?",
    "Quelle est ta fa√ßon pr√©f√©r√©e de dire 'je t‚Äôaime' ?",
    "Quelle est ta plus belle surprise amoureuse ?",
    "Si on devait √©crire un livre sur nous, quel serait son titre ?"
  ],
  fun: [
    "Qui de nous deux est le plus bavard ?",
    "Qui met le plus de temps √† se pr√©parer ?",
    "Si on devait √©changer nos vies pendant 24h, que ferais-tu ?",
    "Quelle est notre blague la plus nulle mais qu‚Äôon adore ?",
    "Si notre couple √©tait un film, quel en serait le genre ?",
    "Qui chanterait faux lors d‚Äôun karaok√© ?",
    "Quelle est la chose la plus dr√¥le que tu m‚Äôaies vue faire ?",
    "Qui serait le plus apte √† survivre sur une √Æle d√©serte ?",
    "Si on devait faire une danse TikTok, laquelle choisirais-tu ?",
    "Quel super-pouvoir me correspondrait le mieux ?",
    "Si tu pouvais me donner un surnom rigolo, ce serait ?",
    "Qui craque le plus pour la bouffe ?",
    "Quel est le pire cadeau que tu pourrais m‚Äôoffrir ?",
    "Quelle est la s√©rie qu‚Äôon ne doit surtout pas regarder ensemble ?",
    "Si on devait avoir une mascotte de couple, ce serait quoi ?",
    "Qui de nous deux serait un mauvais espion ?",
    "Quel emoji nous repr√©sente le mieux ?",
    "Si je devenais c√©l√®bre demain, pour quoi ce serait ?",
    "Qui serait le plus comp√©titif √† un jeu de soci√©t√© ?",
    "Quelle serait la devise de notre couple ?"
  ],
  vision: [
    "Comment te vois-tu dans 10 ans avec moi ?",
    "Quelle est ta vision du bonheur √† deux ?",
    "Quelle valeur comptes-tu toujours pr√©server dans notre couple ?",
    "Comment aimerais-tu qu‚Äôon c√©l√®bre nos anniversaires de couple ?",
    "Quelle aventure aimerais-tu qu‚Äôon vive ensemble ?",
    "Quelle tradition aimerais-tu cr√©er avec moi ?",
    "Qu‚Äôaimerais-tu qu‚Äôon am√©liore ensemble ?",
    "Quel est ton plus grand r√™ve √† deux ?",
    "Quelle destination romantique aimerais-tu qu‚Äôon d√©couvre ?",
    "Quel conseil donnerais-tu √† un jeune couple ?",
    "Comment d√©crirais-tu notre complicit√© ?",
    "Quelle qualit√© chez moi t‚Äôinspire le plus ?",
    "Quel est ton plus grand projet amoureux ?",
    "Quelle chose aimerais-tu qu‚Äôon fasse plus souvent ?",
    "Comment imagines-tu notre maison id√©ale ?",
    "Quel mot r√©sume le mieux notre amour ?",
    "Quelle le√ßon notre histoire t‚Äôa-t-elle apprise ?",
    "Comment aimerais-tu qu‚Äôon vieillisse ensemble ?",
    "Quel est ton r√™ve un peu fou √† deux ?",
    "Si notre amour √©tait une ≈ìuvre d‚Äôart, √† quoi ressemblerait-elle ?"
  ]
};

function showQuiz() {
  main.innerHTML = `
  <section id="quizSection">
    <h2>üí¨ Quiz "Nous"</h2>
    <p>Choisissez une cat√©gorie :</p>
    <div class="quizBtns">
      <button onclick="loadQuiz('romantique')">‚ù§Ô∏è Romantique</button>
      <button onclick="loadQuiz('fun')">üòÇ Fun</button>
      <button onclick="loadQuiz('vision')">üåÖ Vision</button>
    </div>
    <div id="quizQuestion" class="quizCard"></div>
  </section>`;

  const style = document.createElement('style');
  style.textContent = `
    .quizBtns button {
      background: var(--terracotta);
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 16px;
      margin: 4px;
      font-family: 'Playfair Display';
      cursor: pointer;
      transition: 0.3s;
    }
    .quizBtns button:hover {
      background: var(--terracotta-light);
      transform: scale(1.05);
    }
    .quizCard {
      margin-top: 16px;
      background: white;
      padding: 18px;
      border-radius: 20px;
      box-shadow: var(--shadow);
      text-align: center;
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      color: var(--text);
      animation: fadeIn 0.4s ease;
    }`;
  document.head.appendChild(style);
}

function loadQuiz(type) {
  const list = quizData[type];
  const q = list[Math.floor(Math.random() * list.length)];
  document.getElementById('quizQuestion').textContent = q;
}

// ===========================================================
// üé≤ ID√âES DE DATES ‚Äî 100
// ===========================================================
const dateIdeas = [
  "Pique-nique nocturne sous les √©toiles",
  "Soir√©e pizza & film d‚Äôenfance",
  "Cr√©er une playlist ensemble",
  "Massage mutuel √† la bougie",
  "√âcrire une lettre d‚Äôamour √† ouvrir dans 5 ans",
  "Petit-d√©jeuner au lit",
  "Jeu de piste amoureux √† la maison",
  "Coucher de soleil au bord de l‚Äôeau",
  "Atelier photo de couple",
  "Soir√©e sans √©crans et 100% c√¢lins",
  "Cuisine d‚Äôun plat exotique ensemble",
  "Soir√©e karaok√© √† deux",
  "D√©fi : ne pas parler, juste se regarder pendant 5 min",
  "Faire un dessin l‚Äôun de l‚Äôautre",
  "Soir√©e souvenirs : vos meilleures photos projet√©es",
  "Cr√©er un pot de d√©fis romantiques",
  "D√Æner √† la bougie √† la maison",
  "Faire une cabane de draps",
  "Balade improvis√©e en voiture ou √† pied",
  "Cuisiner des cookies ensemble",
  "√âcouter un podcast et en parler",
  "Visiter un endroit o√π vous n‚Äô√™tes jamais all√©s",
  "Faire une s√©ance spa maison",
  "Cr√©er un vision board de couple",
  "Faire un puzzle ensemble",
  "Faire des pancakes avec vos initiales",
  "Soir√©e nostalgie : vos musiques d‚Äôado",
  "Inventer une recette √† deux",
  "D√©corer une pi√®ce ensemble",
  "Lire un po√®me d‚Äôamour √† voix haute",
  "Tester une danse TikTok",
  "Faire un pique-nique en int√©rieur",
  "Inventer une tradition de couple",
  "S‚Äô√©crire un v≈ìu sur un post-it",
  "Regarder les √©toiles et faire un v≈ìu",
  "Faire une bataille de polochons",
  "√âcouter une musique et inventer une chor√©graphie",
  "Faire un quiz sur l‚Äôautre",
  "Cr√©er un cocktail personnalis√©",
  "Apprendre une phrase d‚Äôamour dans une autre langue",
  "Se promener main dans la main en silence",
  "Faire une surprise de fin de soir√©e",
  "Cuisiner en sous-v√™tements üòâ",
  "Regarder un lever de soleil ensemble",
  "Cr√©er votre playlist ‚Äúnotre histoire‚Äù",
  "√âcrire un texte de gratitude sur l‚Äôautre",
  "Faire un mini shooting photo",
  "Tester une recette sucr√©e ensemble",
  "Aller √† un march√© local",
  "Soir√©e tarot ou horoscope",
  "Organiser un pique-nique dans la voiture"
];

function showDates() {
  const idea = dateIdeas[Math.floor(Math.random() * dateIdeas.length)];
  main.innerHTML = `
  <section>
    <h2>üé≤ Id√©e de date</h2>
    <p>${idea}</p>
    <button onclick="showDates()">Nouvelle id√©e üí°</button>
  </section>`;
}

// ===========================================================
// üéØ JEUX OSMOSE ‚Äî 100
// ===========================================================
const games = [
  "Compl√®te la phrase : ¬´ J‚Äôaime quand tu‚Ä¶ ¬ª",
  "Devine mon humeur du jour sans parler",
  "Fais-moi rire en 30 secondes",
  "Le jeu des 3 v√©rit√©s et 1 mensonge",
  "Dessinons-nous √† l‚Äôaveugle",
  "Mime-moi un film romantique",
  "D√©cris ton r√™ve de couple",
  "Fais une d√©claration d‚Äôamour exag√©r√©e",
  "√âcris un mot doux sur ta main et montre-le",
  "Regardons-nous sans parler pendant 1 minute",
  "Danse lente improvis√©e sur une musique",
  "Devine mon souvenir pr√©f√©r√© de nous",
  "D√©cris-moi en 3 adjectifs doux",
  "Invente un surnom in√©dit pour moi",
  "√âchangez vos t√©l√©phones 1 min üòÖ",
  "Partage une photo mignonne",
  "Souffle un mot doux √† l‚Äôoreille",
  "Compl√®te ma phrase d‚Äôamour",
  "Fais un compliment sinc√®re",
  "Dessine notre futur tatouage symbolique"
];

function showGames() {
  const game = games[Math.floor(Math.random() * games.length)];
  main.innerHTML = `
  <section>
    <h2>üéØ Jeu Osmose</h2>
    <p>${game}</p>
    <button onclick="showGames()">Nouveau jeu üé≤</button>
  </section>`;
}
</script>
<script>
/* /* ============================================================
   /* ============================================================
   üíû TRACKER D'INTIMIT√â ‚Äî calendrier emoji am√©lior√© et centr√©
=========================================================== */

function showIntimite() {
  main.innerHTML = `
  <section id="trackerSection">
    <h2>üíû Tracker d‚Äôintimit√©</h2>
    <p>Suivez vos moments complices avec des emojis ü•∞</p>
    <div id="calendar" class="calendar"></div>
    <button onclick="clearTracker()">üßπ R√©initialiser</button>
  </section>`;

  const calendar = document.getElementById('calendar');
  const today = new Date();
  const month = today.getMonth();
  const year = today.getFullYear();
  const firstDay = new Date(year, month, 1);
  const lastDay = new Date(year, month + 1, 0);
  const saved = JSON.parse(localStorage.getItem('tracker') || '{}');

  let html = `<h3>${today.toLocaleString('fr-FR', { month: 'long', year: 'numeric' })}</h3>`;
  html += '<div class="calendar-grid">';

  // D√©calage du premier jour (Lun = 1, Dim = 0)
  const offset = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1;
  for (let i = 0; i < offset; i++) html += `<div class="day empty"></div>`;

  // Jours du mois
  for (let i = 1; i <= lastDay.getDate(); i++) {
    const key = `${year}-${month}-${i}`;
    const emoji = saved[key] || "ü§ç";
    html += `<div class="day" data-key="${key}">
               <span class="day-number">${i}</span>
               <span class="emoji">${emoji}</span>
             </div>`;
  }

  // Compl√©ter √† 42 cases (7 colonnes √ó 6 lignes)
  const totalCells = offset + lastDay.getDate();
  for (let i = totalCells; i < 42; i++) html += `<div class="day empty"></div>`;

  html += '</div>';
  calendar.innerHTML = html;

  // Gestion du clic sur un jour
  document.querySelectorAll('.day').forEach(day => {
    if (!day.classList.contains('empty')) {
      day.addEventListener('click', () => openEmojiPicker(day));
    }
  });
}

// ü©∑ Choix d‚Äôun emoji avec une mini popup douce
function openEmojiPicker(dayEl) {
  const emojis = ["üíñ", "üíã", "üî•", "ü•∞", "üí§", "üôà", "üí´", "ü§ç"];
  const key = dayEl.dataset.key;

  // Supprime les pickers existants
  const oldPicker = document.getElementById('emojiPicker');
  if (oldPicker) oldPicker.remove();

  const picker = document.createElement('div');
  picker.id = 'emojiPicker';
  picker.className = 'emoji-picker';
  emojis.forEach(e => {
    const btn = document.createElement('button');
    btn.textContent = e;
    btn.onclick = () => {
      selectEmoji(key, e, dayEl);
      picker.remove();
    };
    picker.appendChild(btn);
  });

  dayEl.appendChild(picker);
}

// üíæ Sauvegarde de l‚Äôemoji choisi
function selectEmoji(key, emoji, dayEl) {
  const saved = JSON.parse(localStorage.getItem('tracker') || '{}');
  saved[key] = emoji;
  localStorage.setItem('tracker', JSON.stringify(saved));
  dayEl.querySelector('.emoji').textContent = emoji;
}

// üîÑ R√©initialisation
function clearTracker() {
  if (confirm("Effacer toutes les donn√©es du mois ? üíû")) {
    localStorage.removeItem('tracker');
    showIntimite();
  }
}

/* --- üé® STYLE TRACKER --- */
const trackerStyle = document.createElement('style');
trackerStyle.textContent = `
  .calendar {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .calendar h3 {
    color: var(--terracotta, #BD6549);
    margin-bottom: 12px;
    font-family: 'Playfair Display', serif;
    text-transform: capitalize;
  }

  /* Grille fix√©e √† 7 colonnes √ó 6 lignes */
  .calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 46px);
    grid-template-rows: repeat(6, 46px);
    gap: 8px;
    justify-content: center;
    align-content: center;
    margin: 10px auto;
    width: fit-content;
  }

  .day {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    font-size: 0.9rem;
    cursor: pointer;
    text-align: center;
    transition: transform 0.2s ease, background 0.3s ease;
    position: relative;
    width: 46px;
    height: 46px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .day:hover {
    transform: scale(1.05);
    background: #fff0eb;
  }

  .day-number {
    font-size: 0.7rem;
    color: #333;
  }

  .emoji {
    display: block;
    font-size: 1.3rem;
    margin-top: 2px;
  }

  /* S√©lecteur d‚Äôemoji */
  .emoji-picker {
    position: absolute;
    top: -55px;
    left: 50%;
    transform: translateX(-50%);
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    display: flex;
    padding: 4px 6px;
    z-index: 10;
    animation: fadeIn 0.2s ease;
  }

  .emoji-picker button {
    background: none;
    border: none;
    font-size: 1.2rem;
    margin: 0 3px;
    cursor: pointer;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Bouton principal */
  button {
    background: var(--terracotta, #BD6549);
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 16px;
    margin-top: 14px;
    font-family: 'Playfair Display', serif;
    cursor: pointer;
  }

  button:hover {
    background: #a5503c;
    transform: scale(1.05);
  }
`;
document.head.appendChild(trackerStyle);




/* ===========================================================
   üì∏ SOUVENIRS ‚Äî photo + texte
=========================================================== */
function showSouvenirs() {
  main.innerHTML = `
  <section id="souvenirSection">
    <h2>üì∏ Souvenirs</h2>
    <p>Ajoutez vos plus beaux moments √† deux üíû</p>
    <input type="file" id="photoInput" accept="image/*">
    <textarea id="souvenirText" placeholder="√âcrivez un petit mot..."></textarea>
    <button onclick="addSouvenir()">Ajouter üíñ</button>
    <div id="souvenirList" class="souvenirGrid"></div>
  </section>`;

  displaySouvenirs();
}

function addSouvenir() {
  const text = document.getElementById('souvenirText').value.trim();
  const file = document.getElementById('photoInput').files[0];
  if (!file && !text) return alert("Ajoutez une photo ou un mot doux üíû");

  const reader = new FileReader();
  reader.onload = e => {
    const data = JSON.parse(localStorage.getItem('souvenirs') || '[]');
    data.push({ img: e.target.result, text });
    localStorage.setItem('souvenirs', JSON.stringify(data));
    displaySouvenirs();
    document.getElementById('souvenirText').value = "";
    document.getElementById('photoInput').value = "";
  };
  if (file) reader.readAsDataURL(file);
  else {
    const data = JSON.parse(localStorage.getItem('souvenirs') || '[]');
    data.push({ img: null, text });
    localStorage.setItem('souvenirs', JSON.stringify(data));
    displaySouvenirs();
  }
}

function displaySouvenirs() {
  const list = document.getElementById('souvenirList');
  const data = JSON.parse(localStorage.getItem('souvenirs') || '[]');
  list.innerHTML = data.map((s, i) => `
    <div class="souvenirCard">
      ${s.img ? `<img src="${s.img}" alt="Souvenir">` : ""}
      <p>${s.text}</p>
      <button onclick="deleteSouvenir(${i})">üóëÔ∏è</button>
    </div>`).join('');
}

function deleteSouvenir(i) {
  if (!confirm("Supprimer ce souvenir ? üíî")) return;
  const data = JSON.parse(localStorage.getItem('souvenirs') || '[]');
  data.splice(i, 1);
  localStorage.setItem('souvenirs', JSON.stringify(data));
  displaySouvenirs();
}

/* --- Style Souvenirs --- */
const souvenirStyle = document.createElement('style');
souvenirStyle.textContent = `
  #souvenirSection textarea {
    width: 100%;
    min-height: 60px;
    border-radius: 12px;
    border: none;
    padding: 10px;
    font-family: 'Playfair Display';
    box-shadow: var(--shadow);
    resize: none;
    margin-top: 10px;
  }
  .souvenirGrid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 12px;
    margin-top: 20px;
  }
  .souvenirCard {
    background: #fff;
    border-radius: 16px;
    padding: 8px;
    box-shadow: var(--shadow);
    text-align: center;
  }
  .souvenirCard img {
    width: 100%;
    border-radius: 12px;
  }
  .souvenirCard p {
    font-size: 0.9rem;
    margin-top: 6px;
  }
  .souvenirCard button {
    background: none;
    border: none;
    font-size: 1rem;
    cursor: pointer;
  }`;
document.head.appendChild(souvenirStyle);


/* ===========================================================
   üå∏ NAVIGATION FINALE entre les onglets
=========================================================== */
navButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    const section = btn.dataset.section;
    if (section === "quiz") showQuiz();
    if (section === "dates") showDates();
    if (section === "jeux") showGames();
    if (section === "intimite") showIntimite();
    if (section === "souvenirs") showSouvenirs();
    if (section === "home") displaySection("home");
  });
});
</script>
<!-- üíû Popup personnalis√©e "√Ä Deux" -->
<div id="adeuxPopup" class="adeux-popup hidden">
  <div class="adeux-popup-content">
    <p id="adeuxPopupMessage"></p>
    <div class="adeux-popup-buttons">
      <button id="adeuxOk">OK</button>
      <button id="adeuxCancel" class="hidden">Annuler</button>
    </div>
  </div>
</div>

<style>
  .adeux-popup {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
  }
  .adeux-popup.hidden { display: none; }
  .adeux-popup-content {
    background: #fff;
    color: #5a2e22;
    padding: 24px;
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    text-align: center;
    width: 80%;
    max-width: 320px;
    font-family: 'Playfair Display', serif;
    animation: fadeIn 0.3s ease;
  }
  .adeux-popup-buttons button {
    background: #BD6549;
    border: none;
    color: white;
    padding: 10px 20px;
    margin: 10px 6px 0;
    border-radius: 10px;
    cursor: pointer;
    font-family: 'Playfair Display', serif;
  }
  .adeux-popup-buttons button:hover {
    background: #a45038;
  }
  @keyframes fadeIn {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
</style>

<script>
  // Popup simple (remplace alert)
  function showPopup(message, callback) {
    const popup = document.getElementById("adeuxPopup");
    const msg = document.getElementById("adeuxPopupMessage");
    const ok = document.getElementById("adeuxOk");
    const cancel = document.getElementById("adeuxCancel");

    msg.innerHTML = message;
    cancel.classList.add("hidden"); // masqu√© par d√©faut
    popup.classList.remove("hidden");

    ok.onclick = () => {
      popup.classList.add("hidden");
      if (callback) callback(true);
    };
  }

  // Popup avec validation (remplace confirm)
  function showConfirm(message, callback) {
    const popup = document.getElementById("adeuxPopup");
    const msg = document.getElementById("adeuxPopupMessage");
    const ok = document.getElementById("adeuxOk");
    const cancel = document.getElementById("adeuxCancel");

    msg.innerHTML = message;
    cancel.classList.remove("hidden");
    popup.classList.remove("hidden");

    ok.onclick = () => {
      popup.classList.add("hidden");
      callback(true);
    };
    cancel.onclick = () => {
      popup.classList.add("hidden");
      callback(false);
    };
  }

  // Popup avec saisie (remplace prompt)
  function showPrompt(message, callback) {
    const popup = document.getElementById("adeuxPopup");
    const msg = document.getElementById("adeuxPopupMessage");
    const ok = document.getElementById("adeuxOk");
    const cancel = document.getElementById("adeuxCancel");

    msg.innerHTML = `${message}<br><input id='adeuxInput' style='margin-top:10px;padding:6px;border-radius:8px;border:1px solid #ccc;width:80%;font-family:Playfair Display;'>`;
    cancel.classList.remove("hidden");
    popup.classList.remove("hidden");

    ok.onclick = () => {
      const val = document.getElementById("adeuxInput").value;
      popup.classList.add("hidden");
      callback(val);
    };
    cancel.onclick = () => {
      popup.classList.add("hidden");
      callback(null);
    };
  }
</script>
<script>
  // Red√©finition globale des popups natives vers les popups personnalis√©es üíû
  window.alert = function(message) { showPopup(message); };
  window.confirm = function(message) {
    return new Promise(resolve => showConfirm(message, resolve));
  };
  window.prompt = function(message, _default = "") {
    return new Promise(resolve => showPrompt(message, resolve));
  };
</script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker
      .register('./sw.js')
      .then(() => console.log("üíû Service Worker enregistr√© avec succ√®s."))
      .catch(err => console.log("Erreur Service Worker :", err));
  }
</script>
<!-- üíû POPUP G√âN√âRIQUE POUR ID√âES ET QUIZ -->
<div id="romanticPopup" class="romantic-popup hidden">
  <div class="popup-content">
    <span id="popupClose" class="popup-close">‚úñ</span>
    <h3 id="popupTitle"></h3>
    <p id="popupText"></p>
  </div>
</div>

<style>
  /* === üå∏ STYLE POPUP ROMANTIQUE === */
  .romantic-popup {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.4);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    animation: fadeIn 0.3s ease;
  }
  .romantic-popup.hidden { display: none; }
  .popup-content {
    background: #fff8f6;
    color: #5a2e22;
    font-family: 'Playfair Display', serif;
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.2);
    text-align: center;
    max-width: 320px;
    animation: popupIn 0.3s ease;
  }
  .popup-close {
    position: absolute;
    right: 15px; top: 10px;
    cursor: pointer;
    font-size: 1.2rem;
    color: #BD6549;
  }
  #popupTitle {
    font-size: 1.3rem;
    color: #BD6549;
    margin-bottom: 12px;
  }
  #popupText {
    font-size: 1.05rem;
    line-height: 1.4;
  }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  @keyframes popupIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
</style>

<script>
  // ‚ú® Fonction universelle d‚Äôaffichage d‚Äôune popup
  function showRomanticPopup(title, text) {
    const popup = document.getElementById('romanticPopup');
    document.getElementById('popupTitle').textContent = title;
    document.getElementById('popupText').textContent = text;
    popup.classList.remove('hidden');

    document.getElementById('popupClose').onclick = () => popup.classList.add('hidden');
    popup.addEventListener('click', e => {
      if (e.target.id === 'romanticPopup') popup.classList.add('hidden');
    });
  }
</script>


</body>
</html>
